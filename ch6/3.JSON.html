<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.JSON</title>
    <!--
        날짜: 2025/09/01
        이름: 윤종인
        내용: 6장 비동기 
    -->
</head>
<body>
    <h3>3.JSON</h3>
    <script>
        //JSON 생성
        const user = {
            "uid": "a101",
            "name": "김유신",
            "age": "23",
            "addr": "김해시"
        };
        
        document.write('user: ' + user + '<br>');
        document.write('user.uid: ' + user.uid + '<br>');
        document.write('user.name: ' + user.name + '<br>');
        document.write('user.age: ' + user.age + '<br>');
        document.write('user.addr: ' + user.addr + '<br>');

        for(const k in user) {
            document.write('k: ' + k + ', user[k]: ' + user[k] + '<br>');
        }

        //JSON 배열
        const data = {
            "users": [
                {"uid":"a101","name":"김유신","age":23,"addr":"김해시"},
                {"uid":"a102","name":"김춘추","age":21,"addr":"경주시"},
                {"uid":"a103","name":"장보고","age":33,"addr":"완도시"},
                {"uid":"a104","name":"강감찬","age":43,"addr":"서울시"},
                {"uid":"a105","name":"이순신","age":53,"addr":"부산시"}
        ]};
        for(const user of data.users) {
            document.write('<p>');
            document.write('아이디: ' + user.uid + "<br>");
            document.write('이름: ' + user.name + "<br>");
            document.write('나이: ' + user.age + "<br>");
            document.write('주소: ' + user.addr + "<br>");
            document.write('</p>');
        }

        //JSON함수 stringify(): js객체를 JSON문자열로 변환
        const user1 = {
            "uid": "a101",
            "name": "김유신",
            "age": 23
        };

        document.write('user1: ' + user1 + '<br>');

        const strUser1 = JSON.stringify(user1);
        document.write('strUser1: ' + strUser1 + '<br>');

        //JSON함수 parse(): JSON 문자열을 js객체로 변환
        const user2 = '{"uid":"a102","name":"김춘추","age":21}';
        document.write('user2: ' + user2 + '<br>');

        const jsonUser2 = JSON.parse(user2);
        document.write('jsonUser2: ' + jsonUser2 + '<br>');
        document.write('jsonUser2.uid: ' + jsonUser2.uid + '<br>');
        document.write('jsonUser2.name: ' + jsonUser2.name + '<br>');
        document.write('jsonUser2.age: ' + jsonUser2.age + '<br>');
    </script>
</body>
</html>